# Default configuration for plant disease detection training

# Reproducibility
seed: 42

# Image settings
image_size: [224, 224]
normalize: true
imagenet_stats: true  # Use ImageNet mean/std for normalization

# Training hyperparameters
batch_size: 32
epochs: 30
num_workers: 4

# Model architecture
backbone: resnet50  # resnet18, resnet34, resnet50, efficientnet_b0, mobilenet_v2, etc.
pretrained: true
dropout: 0.3
freeze_backbone_epochs: 0  # Freeze backbone for N epochs, then unfreeze

# Optimizer
optimizer:
  name: adam  # adam or sgd
  lr: 0.0001
  weight_decay: 0.0001
  momentum: 0.9  # Only for SGD

# Learning rate scheduler
scheduler:
  name: reduce_on_plateau  # reduce_on_plateau, step, cosine, or none
  mode: min
  factor: 0.1
  patience: 3
  min_lr: 0.000001
  step_size: 10  # For step scheduler
  gamma: 0.1     # For step scheduler

# Loss function
loss: cross_entropy
label_smoothing: 0.0
class_weights: null  # null for auto-compute, or list of weights per class

# Data augmentation (training only)
augmentation:
  random_rotate: true
  rotate_limit: 15
  horizontal_flip: true
  vertical_flip: false
  brightness: 0.2
  contrast: 0.2
  saturation: 0.2
  hue: 0.1
  blur: true
  blur_limit: 3
  gaussian_noise: false
  noise_var: 0.01
  random_crop: false
  crop_scale: [0.8, 1.0]

# Early stopping
early_stopping:
  enabled: true
  patience: 5
  min_delta: 0.001
  mode: min
  monitor: val_loss

# Checkpointing
checkpoint:
  save_best: true
  save_last: true
  monitor: val_loss
  mode: min

# Evaluation
evaluation:
  threshold: 0.0  # Minimum confidence threshold
  topk: 3

# Data split ratios (if not pre-split)
data_split:
  train: 0.8
  val: 0.1
  test: 0.1

# Grad-CAM explainability
gradcam:
  target_layer: null  # null for auto-detect
  alpha: 0.4  # Overlay transparency

# Logging
logging:
  level: INFO
  tensorboard: true
  save_samples: true
  log_interval: 10  # Log every N batches
